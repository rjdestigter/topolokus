(window.webpackJsonptopolocus=window.webpackJsonptopolocus||[]).push([[0],{52:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},56:function(e,n,t){e.exports=t(67)},61:function(e,n,t){},62:function(e,n,t){},63:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var o,r,c=t(0),a=t.n(c),i=t(24),u=t.n(i),l=(t(61),t(52)),p=t.n(l),f=(t(62),t(75)),s=t(79),y=t(77),g=t(80),b=t(76),O=t(11),d=(t(63),t(7)),j=t(18),P=t(1),v=t(12),m=t(70),w=t(72),h=t(69),E=t(30),A=t(71),N=t(74),S=t(48);!function(e){e.Noop="Noop",e.AddPolygon="AddPolygon"}(o||(o={})),function(e){e.SelectPolygon="SelectPolygon",e.EditPolygon="EditPolygon",e.RemovePolygon="RemovePolygon"}(r||(r={}));var k,C=function(e){return[e.offsetX,e.offsetY]},T=function(e){return function(n){var t=Object(v.a)(n,2),o=t[0],r=t[1],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;c.beginPath(),c.arc(o,r,5,0,2*Math.PI),c.fillStyle="#fff",c.fill(),c.stroke(),c.closePath()}},D=t(29),x=function(e){return function(n){return function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;o.beginPath(),t.forEach((function(e){var n=Object(D.a)(e),t=Object(v.a)(n[0],2),r=t[0],c=t[1],a=n.slice(1);o.moveTo(r,c),a.forEach((function(e){var n=Object(v.a)(e,2),t=n[0],r=n[1];o.lineTo(t,r)})),o.closePath()})),o.fillStyle="Cyan",o.fill(),o.stroke(),t.forEach((function(n){return n.forEach((function(n){return e(n,o)}))}))}}},z=function(e){return function(n){return function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;o.beginPath();var r=Object(D.a)(t),c=Object(v.a)(r[0],2),a=c[0],i=c[1],u=r.slice(1);o.moveTo(a,i),u.forEach((function(e){var n=Object(v.a)(e,2),t=n[0],r=n[1];o.lineTo(t,r)})),o.stroke(),t.forEach((function(n){return e(n,o)}))}}},L=function(e){e.fillStyle="#ffffff",e.strokeStyle="#000000",e.lineWidth=1,e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor="rgba(0, 0, 0, 0.2)"},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var t=(e.marker||T)(n);return{marker:t,polygon:(e.polygon||x)(t)(n),line:(e.line||z)(t)(n),resetStyles:L}}};!function(e){e.AddPolygon="AddPolygon",e.AddPointToNewPolygon="AddPointToNewPolygon",e.SubmitNewPolygon="SubmitNewPolygon",e.CancelNewPolygon="CancelNewPolygon"}(k||(k={}));var B=function(){return{type:k.AddPolygon}};function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(t,!0).forEach((function(n){Object(P.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J=function(e,n){return n.type===k.AddPolygon&&e.value===o.Noop?function(e){return I({},e,{value:o.AddPolygon,newPolygon:[]})}(e):n.type===k.AddPointToNewPolygon&&e.value===o.AddPolygon?function(e,n){return I({},e,{value:o.AddPolygon,newPolygon:[].concat(Object(j.a)(e.newPolygon),[n])})}(e,n.payload):n.type===k.SubmitNewPolygon&&e.value===o.AddPolygon&&(null!=(t=e.newPolygon)&&t.length>2)?function(e,n){return I({},e,{value:o.Noop,polygons:[].concat(Object(j.a)(e.polygons),[n])})}(e,[e.newPolygon]):n.type===k.CancelNewPolygon&&e.value===o.AddPolygon?function(e){return I({},e,{value:o.Noop})}(e):e;var t},M=function(e,n){return J(e,n)},X=t(78),Y=Object(E.a)((function(e){return e[0]})),H=new X.a,$=H.pipe(Object(h.a)((function(e){var n=Object(v.a)(e,2);return n[0]!==n[1]}))),_=$.pipe(Y),q=(_.pipe(Object(E.a)((function(e){return e.polygons}))),new X.a),F=q.pipe(Object(E.a)((function(e){return e.type}))),G=function(e){return F.pipe(Object(h.a)((function(n){return e===n})))},K=Object(m.a)(document,"keypress").pipe(Object(E.a)((function(e){return e.keyCode})),Object(A.a)((function(e){return console.warn(e)}))),Q=function(e){return K.pipe(Object(h.a)((function(n){return Array.isArray(e)?e.includes(n):n===e})))},U=Q(13),V=Q(99),Z=[],ee=function(e){var n,t;return function(o){return o!==n&&(n=o,t=e(o)),t}}((function(e){return function(e){return e.polygons}(e).reduce((function(e,n){return n.forEach((function(n){n.forEach((function(n){e.push(n)}))})),e}),Z)})),ne=t(53),te=t(81),oe=t(82),re=t(73),ce=function(e){return"number"!==typeof e},ae=G(k.AddPolygon),ie=(G(k.AddPointToNewPolygon),G(k.SubmitNewPolygon),G(k.CancelNewPolygon),function(e){return Object(ne.a)({type:k.SubmitNewPolygon}).pipe(Object(A.a)((function(n){return e(n)})))}),ue=function(e){return Object(ne.a)({type:k.CancelNewPolygon}).pipe(Object(A.a)((function(n){return e(n)})))},le=function(e,n){return Object(w.a)(function(e,n){return Object(te.a)(e.pipe(Object(h.a)((function(e){return e.newPolygon.length>2})),Object(oe.a)(1)),U.pipe(Object(oe.a)(1)),ie(n)).pipe(Object(h.a)(ce),Object(h.a)((function(e){return ce(e)&&e.hasOwnProperty("type")})))}(e,n),function(e,n){return Object(te.a)(V.pipe(Object(oe.a)(1)),ue(n)).pipe(Object(h.a)(ce))}(0,n))},pe=function(e,n,t){return e.pipe(Object(A.a)((function(e){return t(function(e){return{type:k.AddPointToNewPolygon,payload:e}}(e))})),Object(re.a)(le(n,t)))},fe=function(e,n,t){return Object(te.a)(Object(w.a)(Object(te.a)(Q([65,97]).pipe(Object(oe.a)(1)),Object(ne.a)(B()).pipe(Object(A.a)(t))).pipe(Object(h.a)(ce)),ae).pipe(Object(oe.a)(1)),pe(e,n,t))};function se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?se(t,!0).forEach((function(n){Object(P.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ge(e){var n=e.getContext("2d");if(null!=n){var t=R()(n),r=function(e){return q.next(e)},c=function(e){var n=Object(v.a)(e,2),t=n[0],o=n[1],r=ee(l)[a.within(t,o,10)[0]];return r?[r[0],r[1]]:[t,o]},a=new S.a([]),i=$.pipe(Object(h.a)((function(e){var n=Object(v.a)(e,2),t=n[0],o=n[1];return t.polygons!==o.polygons})),Y,Object(E.a)(ee),Object(A.a)((function(e){a=new S.a(e)}))),u=[[[100,100],[300,100],[300,300],[100,300]],[[150,150],[250,150],[250,250],[150,250]].reverse()],l={mousePosition:[0,0],value:o.Noop,polygons:[u],hovering:!1},p=[],f=function(e){p.push(l),l=e,H.next([l,p[p.length-1]||l])},s=Object(m.a)(e,"click").pipe(Object(E.a)((function(e){return C(e)}))),y=Object(m.a)(e,"mousemove").pipe(Object(E.a)((function(e){return C(e)}))).pipe(Object(E.a)(c),Object(A.a)((function(e){f(ye({},l,{mousePosition:e}))}))),g=q.pipe(Object(A.a)((function(e){var n=M(l,e);console.groupCollapsed(e.type),console.log(e),console.log(l),console.groupEnd(),f(n)}))),b=_.pipe(Object(h.a)((function(e){return e.value===o.AddPolygon}))),O=_.pipe(Object(A.a)((function(r){t.resetStyles(n),n.clearRect(0,0,e.width,e.height),r.polygons.forEach((function(e){t.polygon(e),t.resetStyles(n)})),r.value===o.AddPolygon&&(r.newPolygon.length>1?(t.polygon([[].concat(Object(j.a)(r.newPolygon),[r.mousePosition])]),t.resetStyles(n)):1===r.newPolygon.length&&(t.line([].concat(Object(j.a)(r.newPolygon),[r.mousePosition])),t.resetStyles(n)))}))),d=Object(w.a)(g,y,i,fe(s.pipe(Object(E.a)(c)),b,r).pipe(Object(N.a)()),O).subscribe();return{getState:function(){return l},getHistory:function(){return p},done:function(){d.unsubscribe()},api:{addPolygon:function(){return r(B())},load:function(e){return f(ye({},l,{polygons:[].concat(Object(j.a)(l.polygons),Object(j.a)(e))}))}}}}throw new Error("Canvas 2D Rendering Context Not Available")}var be=[51.9085,5.0509],Oe=[51.885,5.0509],de=function(e){return a.a.createElement(f.a,{center:be,zoom:13},a.a.createElement(s.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),a.a.createElement(y.a,{center:Oe,radius:1e3},a.a.createElement(g.a,null,"A pretty CSS3 popup.",a.a.createElement("br",null),"Easily customizable.")),a.a.createElement(b.a,{name:"canvas"},e.children,a.a.createElement("div",null,"xyt")))},je=function(){var e=Object(O.b)();return a.a.useEffect((function(){if(null!=e.map){var n=e.map,t=(c=e.pane,Object(d.canvas)({padding:0,pane:c}));t.addTo(e.map),Object.assign(window,{canvasLayer:t});var o=ge(t._container),r=function(){};return n.dragging.disable(),Object.assign(window,{api:o}),n.addEventListener("zoom move",r),function(){n.removeEventListener("zoom move",r),n.removeLayer(t),o.done()}}var c}),[e.map,e.map&&e.map.getCenter().lat,e.map&&e.map.getCenter().lng]),null},Pe=function(){return a.a.createElement(de,null,a.a.createElement(je,null))},ve=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"})),a.a.createElement("div",{id:"map"},a.a.createElement(Pe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.9cc7d3b0.chunk.js.map